{"version":3,"sources":["js/component/works.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"5dbafd80607a0e5706fba5a36608c129.map","sourcesContent":["/*\n * works.js\n * Copyright (C) 2018 daijt\n *\n * Distributed under terms of the MIT license.\n */\n\n{\n    Vue.component('work', {\n        props: ['works', 'edit', 'save'],\n        data: function () {\n            return {\n                editedWorks: undefined\n            }\n        },\n        template: `\n            <div class=\"row works\">\n                <div class=\"col-12 text-center\">\n                    <h2>作品</h2>\n                    <p class=\"site-en\">Portfolio&nbsp;Show</p>\n                </div>\n                <div class=\"col-12\">\n                    <ul class=\"list-unstyled d-flex flex-wrap\">\n                        <work-item v-for=\"(item, index) in works\"\n                                   :index=\"index\"\n                                   :work=\"item\"\n                                   :edit=\"edit\"\n                                   :save=\"save\"\n                                   @remove=\"removeWork\"\n                                   @save=\"saveWorks\">\n                        </work-item>\n                    </ul>\n                </div>\n                <div class=\"col-12 add-btn-wrapper\">\n                    <button type=\"button\" v-show=\"edit\" v-on:click=\"addWork\" class=\"btn btn-block btn-outline-primary\">Add&nbsp;work</button>\n                </div>\n            </div>\n        `,\n        updated() {\n            if (this.editedWorks) {\n                this.$emit('save', {\n                    works: this.editedWorks\n                });\n                this.editedWorks = undefined;\n            }\n        },\n        watch: {\n            save: function (newSave, oldSave) {\n                if (newSave && typeof oldSave !== 'function') {\n                    this.editedWorks = [];\n                }\n            }\n        },\n        methods: {\n            addWork() {\n                this.$emit('add');\n            },\n            saveWorks(work) {\n                this.editedWorks.push(work);\n            },\n            removeWork(data) {\n                this.$emit('remove', data);\n            }\n        }\n    });\n    Vue.component('work-item', {\n        props: ['index', 'work', 'edit', 'save'],\n        template: `\n            <li class=\"col-xl-6\">\n                <div class=\"card border-primary\">\n                    <div class=\"card-header text-primary font-weight-bold\">\n                        <div v-show=\"!edit\">\n                            <u><a v-bind:href=\"work.link\">{{work.name}}</a></u>\n                        </div>\n                        <div class=\"input-group mb-3\" v-show=\"edit\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\">作品</span>\n                            </div>\n                            <input type=\"text\" v-model=\"work.name\" class=\"form-control\" aria-label=\"Default\"\n                                   aria-describedby=\"inputGroup-sizing-default\">\n                        </div>\n                        <div class=\"input-group\" v-show=\"edit\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\">链接</span>\n                            </div>\n                            <input type=\"text\" v-model=\"work.link\" class=\"form-control\" aria-label=\"Default\"\n                                   aria-describedby=\"inputGroup-sizing-default\">\n                        </div>\n                    </div>\n                    <div class=\"card-body\">\n                        <p class=\"card-text\" v-show=\"!edit\">{{work.desc}}</p>\n                        <div class=\"input-group\" v-show=\"edit\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\">说明</span>\n                            </div>\n                            <textarea v-model=\"work.desc\" class=\"form-control\" aria-label=\"With textarea\" rows=\"5\"></textarea>\n                        </div>\n                    </div>\n                </div>\n                <button type=\"button\" v-show=\"edit\" v-on:click=\"remove\" class=\"close\" aria-label=\"Close\">\n                    <span class=\"text-primary\" aria-hidden=\"true\">&times;</span>\n                </button>\n            </li>\n        `,\n        watch: {\n            save: function (newSave) {\n                if (newSave) {\n                    this.$emit('save', this.work);\n                }\n            }\n        },\n        methods: {\n            remove() {\n                this.$emit('remove', {\n                    work: this.index\n                });\n            }\n        }\n    })\n}\n\n"]}